rconsolename("Fatality")
rconsoleprint("@@LIGHT_BLUE@@")
rconsoleclear()
local lowestplayercount = 1

local http = game:GetService("HttpService")
local cursor = ""
local server
local lowestping = math.huge

function getservers(a)
    local api = http:JSONDecode(game:HttpGet(a))
    for i,v in pairs(api.data) do
        if v.ping < lowestping and v.playing >= lowestplayercount then
            server = v
        end
    end
    if tostring(api.nextPageCursor) ~= "nil" then
        rconsoleprint("Successfully searched all servers.")
        rconsoleclear()
        rconsoleprint("Successfully searched all servers..")
        rconsoleclear()
        rconsoleprint("Successfully searched all servers...")
        rconsoleclear()
        getservers("https://games.roblox.com/v1/games/"..PlaceId.."/servers/Public?sortOrder=Asc&limit=100&cursor="..api.nextPageCursor)
    else
        rconsoleprint("Successfully searched all servers.")
        rconsoleprint("\n")
        rconsoleprint("\n")
        rconsoleprint("Best Server: "..server.id)
        rconsoleprint("\n")
        rconsoleprint("\n")
        rconsoleprint("Players: "..server.playing)
        rconsoleprint("\n")
        rconsoleprint("\n")
        rconsoleprint("Ping: "..server.ping)
        rconsoleprint("\n")
        rconsoleprint("\n")
        rconsoleprint("FPS: "..server.fps)
        rconsoleprint("\n")
        rconsoleprint("\n")
        rconsoleprint("Place ID: "..PlaceId)
        wait(2)
        while true do
        game:GetService("TeleportService"):TeleportToPlaceInstance(PlaceId, server.id)
        wait(1)
        end
    end
end
getservers("https://games.roblox.com/v1/games/"..PlaceId.."/servers/Public?sortOrder=Asc&limit=99999999999")
